<html>
<head>
    <title>Sign Up</title>
    <link rel="stylesheet" href="/css/index.css">
</head>
<body>
    <div class="signup-container" style="max-width:400px;margin:60px auto;padding:32px 24px;background:#fff;border-radius:8px;box-shadow:0 2px 12px #0001;">
        <h2 style="text-align:center;">Sign Up</h2>
        <form id="signupForm" style="margin-bottom:24px;">
            <input type="email" name="email" id="email" placeholder="Email" required style="width:100%;margin-bottom:12px;padding:10px;" />
            <input type="password" name="password" id="password" placeholder="Password" required style="width:100%;margin-bottom:12px;padding:10px;" />
            <button type="submit" style="width:100%;padding:10px;background:#28a745;color:#fff;border:none;border-radius:4px;font-size:16px;">Sign Up</button>
        </form>
        <div id="signupMessage" style="text-align:center;color:#d9534f;margin-bottom:12px;"></div>
        <div style="text-align:center;margin-top:12px;">
            <a href="/signin">Already have an account? Sign in</a>
        </div>
        {{!-- <div style="text-align:center;margin:16px 0;">or</div> --}}
        {{!-- <a href="/auth/google" style="display:block;text-align:center;margin:0;padding:12px 0;background:#4285F4;color:#fff;font-size:18px;border:none;border-radius:4px;text-decoration:none;">
            <span style="vertical-align:middle;margin-right:8px;" class="material-icons">account_circle</span>
            Sign up with Google
        </a> --}}
    </div>
    <script>
    document.getElementById('signupForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const messageDiv = document.getElementById('signupMessage');
        messageDiv.style.color = '#d9534f';
        messageDiv.textContent = '';
        try {
            const res = await fetch('/auth/register', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ email, password })
            });
            const data = await res.json();
            if (res.ok) {
                if (data.redirect) {
                    window.location.href = data.redirect;
                } else {
                    messageDiv.style.color = '#28a745';
                    messageDiv.textContent = 'Signup successful! You can now sign in.';
                    document.getElementById('signupForm').reset();
                }
            } else {
                messageDiv.textContent = data.error || 'Signup failed.';
            }
        } catch (err) {
            messageDiv.textContent = 'Network error.';
        }
    });
    </script>
</body>
</html>
